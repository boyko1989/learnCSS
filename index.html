<!DOCTYPE html>
<html lang="ru">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
      body {
              width:1000px;
              margin:0 auto;
      }

      #menu {
              margin:0; 
              padding:0;   
              border: rgb(174, 0, 255) 1px solid;
      }
      #menu ul, 
      #menu li {
              float: left;
              list-style:none;
      }

      #menu li {
              padding:2px 10px;
              font:Bold Small Tahoma;
              background:#35C; 
              color:white;
              border:solid 1px; 
              border-color:#46F #238 #238 #46F;
      }

      #menu li a {
              color:white; 
              text-decoration:none;
      }

      #content {
              float: left;
              width:700px;
              border: darkgoldenrod 1px solid;
              padding: 20px;
      }

      #sidebar {
              float:right; 
              width:230px;
              border: cyan 1px solid;
              padding: 10px;
      }
      #main {
              background:rgb(178, 188, 238);
              overflow:hidden;
              
      }
      #header,
      #footer {
              background:#238; color:white;
              clear:both;
              padding: 5px 25px;
      }
      #header a {
         color: rgb(178, 188, 238);
         text-decoration:none;

      }

      .right {
         float: right;
      }

      .note{
         margin-left: 30px;
         padding-left: 20px;
         border-left: rgb(126, 114, 92) 1px solid;
      }

      pre {
         white-space: pre;
         background-color: thistle;
         padding: 20px;
      }

      code {

         font: 75% DejaVu Sans Mono, Consolas, Monaco, monospace;
         fill: #444;
      }
      #foot_a {
         color: white;
      }

</style>
   <title>Изучение CSS</title>
</head>
<body>
   <ul id="menu">
      <li><a href="/">Начало</a></li>
      <li><a href="catalog/">Каталог</a></li>
      <li><a href="basket/">Корзина</a></li>
      <li><a href="help/">Справка</a></li>
</ul>
<div id="header">                
      <h1>Раскладка в CSS: float</h1>
      <p>Оригинал взят <a href="https://softwaremaniacs.org/blog/2005/12/01/css-layout-float/" target="_blank"> отсюда</a></p>
</div>

<div id="main">
      <div id="sidebar">
              <h2>Важно!</h2>
              <p>Работа над вёрсткой заключается в определении схемы и метода раскладки, а затем уже оформление составных частей последней.</p>
                                          
      </div>
      <div id="content">
              <h2>Важные выводы</h2>
              <ul>
                 <li>FLOAT - это вместо атрибута HTML align=""</li>
                 <li></li>
                 <li></li>
              </ul>
              <p></p>

              <h2>Принцип работы</h2>

              <p>Как и позиционирование, float используется для того, чтобы двигать боксы. Но в отличие от позиционирования, которым можно двигать боксы практически произвольно, все, что может float — это сдвинуть элемент к одной из сторон <a href="https://softwaremaniacs.org/blog/2005/08/27/css-layout-flow/">потока</a>, правой или левой.</p>
              
              <p>При этом сам бокс и следующие за ним в потоке приобретают интересное поведение:</p>
              
              <p class="right"><img alt="" src="https://softwaremaniacs.org/media/blog/float-behavior.png"></p>
              
              <ol>
              <li>Float'нутый бокс смещается по горизонтали и прилипает к одной из сторон родителя.</li>
              <li>Float'нутый бокс перестает раздаваться на всю ширину родительского бокса-контейнера (как это происходит с блоками в потоке). С его неприжатой к родителю свободной стороны появляется свободное место.</li>
              <li>Следующие за ним <em>блочные</em> боксы подтягиваются вверх и занимают его место, как если бы float'нутого бокса в потоке не было.</li>
              <li><em>Строчные</em> же боксы внутри подвинувшихся наверх блоков начинают обтекать float'нутый бокс со свободной стороны.</li>
              </ol>
              
              <p>Хочу еще раз подчеркнуть неочевидную сразу вещь: сама коробка блока, следующего за float'ом, подлезает под него и занимают всю ширину потока, а вот текст внутри этого блока смещается в сторону и обтекает float.</p>
              
              <p>Дальше интересно, как себя ведут float'нутые в одну сторону боксы, которые идут один за другим. В этом случае следующий бокс будет пытаться уместиться сбоку от предыдущего, с его свободной стороны. И только если ему там не будет достаточно места, тогда он сместится ниже и будет пытаться уместиться уже там.</p>
              
              <p class="note"><small>Есть еще один маленький технический аспект, не обязательный для понимания всей "механики". Заfloat'ить можно как блочные боксы, так и строчные. При этом строчные тут же автоматически становятся блочными. То есть, писать <code>display:block;</code> для float'а излишне.</small></p>
              
              <p>Из двух описанных особенностей float'ов — прижимание к краю и стыкование сбоку друг друга — вытекают два основных применения их в раскладке:</p>
              
              <ul>
              <li>разделение страницы на колонки</li>
              <li>горизонтально расположенные меню</li>
              </ul>

              <h2>Колонки</h2>

<p>Колонки — это когда блоки текста расположены рядом друг с другом и имеют одинаковую высоту.</p>

<p>Эта страница основана на вот таком простейшем HTML'ном коде с двумя блоками:</p>

<pre>
   <code>
   &lt;body&gt;
   &lt;div id="sidebar"&gt;
      ...
   &lt;/div&gt;
   &lt;div id="content"&gt;
      ...
   &lt;/div&gt;
   &lt;/body&gt;
   </code>
</pre>
<p>Есть два подхода к организации колонок:</p>
<ul>
   <li>Пропорциональная ширина</li>
   <li>Растягивание только одной колонки</li>
</ul>              
<p>Но у второго способа есть один очень серьезный недостаток. Обратите внимание, что в исходном HTML блок "sidebar" идет <em>до</em> блока "content" с основным содержимым. Не нужно думать, что так сделано случайно. Так сделано специально, потому что иначе этот самый второй способ с наложением колонки поверх margin'а не работал бы.</p>
<p>float'ы сдвигаются только в сторону и дают место следующим блоками, которые съезжают наверх. Поэтому принципиально, чтобы "sidebar" был уже наверху, и тогда основной блок подъедет к нему. Если "sidebar" идет после основного блока, то он так и останется ниже, и ни на какие колонки это похоже не будет.</p>
<p>Это действительно плохо, потому что перечеркивает одну из основных идей CSS: отделение оформления от содержания. Получается, что мы захотели изменить только дизайн, а если блоки расположены "не так", то придется лезть еще и в HTML-шаблоны. Кроме того, с точки зрения структуры могут быть свои веские основания располагать блоки так, а не иначе. Например чтобы пользователь мог начать читать основной текст страницы, не дожидаясь загрузки навигации.</p>
<h3>Фиксированная ширина</h3>

<p>Все резко упрощается, когда колонки помещаются в фиксированную ширину контейнера. В этом случае лучше всего использовать первый способ (float'ить все колонки),  и ширину уже можно задавать не только в процентах, но и в чем хотите, поскольку ее можно точно вычислить.</p>

<h3>Возможные проблемы</h3>
<p>Поскольку float'ы не придумывались как средство создания колонок, это обязательно вылезет чем-нибудь уродливым.</p>
<p>Изначально при вёрстке с такими стилями:</p>

<pre><code>/* Раскладка в колонки */

   body {
     width:600px;
     margin:0 auto;
   }
   
   #content {
     float:left; width:450px;
   }
   
   #sidebar {
     float:right; width:150px;
   }
   
   /* Цвета */
   
   #main {
     background:url(bg.png) right top repeat-y;
   }
   
   #header,
   #footer {
     background:#238; color:white;
   }
   </code></pre>
   <p><img alt="Колонки имеют темно-синий фон, как у заголовка и нижнего блока, причем фон обрывается, не дойдя до низа колонок, текст нижнего блока начинается под sidebar'ом." src="https://softwaremaniacs.org/media/blog/float-mess.png"></p>
   <p>Вся синяя область ниже заголовка - это футер. Это явление называется схлопыванием границ. Его смысл в том, чтобы при наличии какого-то элемента в блоке, который из него выступает, элементы следующего по потоку блока будут обтекать его как это ожидается, а не создавать разрыв в тексте равный выступающей части блока.</p>
   <p>Если объяснять механику работы свойства в этом месте, то получится следующее: блоки, идущие за флоатами перестают эти флоаты замечать и подтягиваются вверх. К тому же сам контейнер, в котором находятся флоаты перестаёт их замечать и эти блоки под флоатом проваливаются через низ контейнера, если он заканчивается раньше.</p>
   <p>В нашем коде внутри блока "main" кроме боков под флоатом ничего нет, поэтому при отсутствии необходимости ещё что-то содержать, его высота схлопывается в нуль. </p>
   <p>Футер, подчиняясь тому же правилу, тоже не видит флоутанутых блоков и подтягивается наверх к самому заголовку. Однако в футере есть текст, который как раз и должен обтекать флоаты. Между колонками места нет, поэтому текст футера начинается под первым блоком, который закончился.</p>
   <p><img alt="" src="https://softwaremaniacs.org/media/blog/float-image-in-flow.png"></p>
   <h4>Решения</h4>

   <p>Итак, поведение с проваливанием понятно, но оно удобно для непозиционированного текста, а для раскладки — совсем неудобно. Существует два подхода устранящих оба проявления этого свойства: подтягивание следующих боксов наверх и проваливание через низ контейнера.</p>
   <p>Для устранения подтягивания блоков существует специальное свойство — <code>clear</code>. Оно заставляет элемент сдвигаться вниз, пока сбоку от него не останется float'ов. Причем можно управлять, с какого именно бока не должно быть float'ов:</p>
   
<dl>
   <dt><code>clear:left</code></dt>
   <dd>следит, чтобы float'ов не было слева</dd>
   <dt><code>clear:right</code></dt>
   <dd>следит, чтобы float'ов не было справа</dd>
   <dt><code>clear:both</code></dt>
   <dd>следит, чтобы float'ов не было с обеих сторон</dd>
 </dl>
 
 <p>Таким образом, если мы скажем нашему "footer"у:</p>
 
 <pre><code>#footer {
   clear:both;
 }
 </code></pre>
 
 <p>... чтобы слева и справа от него не было float'нутых колонок, то он сдвинется вниз как раз туда, где они обе кончаются.</p>
 <p>Но это не решает другой проблемы: того, что float'ы проваливаются через "main", и тот схлопывается, в результате чего не видно колоночного фона, который ему назначен. Проваливание можно победить двумя способами.

   <p>Можно явно спозиционировать контейнер каким-нибудь образом. Насколько я понимаю логику спецификации, поведение проваливания считается логичным только в простом потоке. В других случаях оно только мешает. И так оно и есть, как мы убедились. То есть достаточно назначить контейнеру например position:absolute или float:left и ничего не будет проваливается, контейнер будет полностью заключать в себя и текст, и float'ы. В нашем случае (и в большинстве случаев, кстати) это решение вполне подойдет.</p>
   
   <p> Другой интересный способ связан с побочным эффектом свойства overflow. Само по себе оно предназначено для того, чтобы определять, как будет вести себя контейнер при переполнении, когда не может вместить свое содержимое. У него есть четыре значения:</p>
   <p>Какой же overflow использовать? Сразу отпадает scroll — всегда висящие скроллбары явно не нужны. Остаются auto и hidden, которые отличаются только тем, появляется скроллбар при переполнении или нет. Но у нас никакого переполнения нет, наоборот, этим свойством мы заставили контейнер дополнительно растянуться, чтобы он охватывал все свои элементы. Поэтому использовать можно любое значение.</p>
   <p><img src="https://softwaremaniacs.org/media/blog/float-containing.png" alt=""></p>

   <p>Итак, в итоге, чтобы исправить наш пример с колонками, надо сделать так:</p>

<pre><code>#main {
  width:100%; overflow:hidden;
}
</code></pre>

<h2>Меню</h2>

<p>Напомню, что если несколько идущих подряд блоков заfloat'ить в одну сторону, то каждый следующий будет пытаться разложиться со свободной стороны от предыдущего. Этот эффект широко используется для того, чтобы превращать списки разделов сайта в горизонтально расположенные меню.</p>

<p>Возьмем такой список:</p>

<pre><code>&lt;ul&gt;
  &lt;li&gt;&lt;a href="/"&gt;Начало&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="catalog/"&gt;Каталог&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="basket/"&gt;Корзина&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="help/"&gt;Справка&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>Чтобы это было похоже на меню, надо заfloat'ить все <code>li</code> влево, убрать у них атрибутику списка (отступы и буллиты) и еще добавить для красоты отступы, фон и рамку:</p>

<pre>
   <code>
   
/* раскладка */

#menu {
   margin:0; 
   padding:0;   
   border: rgb(174, 0, 255) 1px solid;
}
#menu ul, 
#menu li {
   float: left;
   list-style:none;
}

/* вид */

#menu li {
   padding:2px 10px;
   font:Bold Small Tahoma;
   background:#35C; 
   color:white;
   border:solid 1px; 
   border-color:#46F #238 #238 #46F;
}

#menu li a {
   color:white; 
   text-decoration:none;
}
</code></pre>

<p>Я немого поменял стили в отличии от оригинала. Во-первых, я загнал меню в идентификатор и попробовал размещать его ниже или выше хедера. Чтобы меню не интегрировалось в чужой блок, нужно в этом блоке поставить свойство <code>clear:both;</code>. Вот, собственно и все примудрости!</p>

      </div>
</div>
<div id="footer">
      <h2>Репозиторий GitHub</h2>
      <a id="foot_a" href="https://github.com/boyko1989/learnCSS">https://github.com/boyko1989/learnCSS</a>
</div>
</body>
</html>